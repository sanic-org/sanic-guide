(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{400:function(t,a,e){"use strict";e.r(a);var s=e(4),n=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"version-21-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#version-21-6"}},[t._v("#")]),t._v(" Version 21.6")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#introduction"}},[t._v("Introduction")])]),a("li",[a("a",{attrs:{href:"#what-to-know"}},[t._v("What to know")]),a("ul",[a("li",[a("a",{attrs:{href:"#deprecation-of-streaminghttpresponse"}},[t._v("Deprecation of StreamingHTTPResponse")])]),a("li",[a("a",{attrs:{href:"#deprecation-of-compositionview"}},[t._v("Deprecation of CompositionView")])]),a("li",[a("a",{attrs:{href:"#deprecation-of-path-parameter-types-string-and-number"}},[t._v("Deprecation of path parameter types: string and number")])]),a("li",[a("a",{attrs:{href:"#version-0-7-router-upgrades"}},[t._v("Version 0.7 router upgrades")])]),a("li",[a("a",{attrs:{href:"#inline-streaming-with-eof"}},[t._v("Inline streaming with eof()")])]),a("li",[a("a",{attrs:{href:"#new-path-parameter-type-slug"}},[t._v("New path parameter type: slug")])]),a("li",[a("a",{attrs:{href:"#stricter-application-and-blueprint-names-and-deprecation"}},[t._v("Stricter application and blueprint names, and deprecation")])]),a("li",[a("a",{attrs:{href:"#a-new-access-on-route-object-route-uri"}},[t._v("A new access on Route object: route.uri")])]),a("li",[a("a",{attrs:{href:"#a-new-accessor-on-request-object-impacting-ips"}},[t._v("A new accessor on Request object impacting IPs")])]),a("li",[a("a",{attrs:{href:"#alternate-config-and-sanic-ctx-objects"}},[t._v("Alternate Config and Sanic.ctx objects")])]),a("li",[a("a",{attrs:{href:"#sanic-cli-improvements"}},[t._v("Sanic CLI improvements")])]),a("li",[a("a",{attrs:{href:"#version-prefix"}},[t._v("Version prefix")])]),a("li",[a("a",{attrs:{href:"#signal-event-auto-registration"}},[t._v("Signal event auto-registration")])]),a("li",[a("a",{attrs:{href:"#infinitely-reusable-and-nestable-blueprint-and-blueprintgroup"}},[t._v("Infinitely reusable and nestable Blueprint and BlueprintGroup")])]),a("li",[a("a",{attrs:{href:"#http-methods-as-enum"}},[t._v("HTTP methods as Enum")])]),a("li",[a("a",{attrs:{href:"#expansion-of-httpmethodview"}},[t._v("Expansion of HTTPMethodView")])])])]),a("li",[a("a",{attrs:{href:"#news"}},[t._v("News")]),a("ul",[a("li",[a("a",{attrs:{href:"#discord-and-support-forums"}},[t._v("Discord and support forums")])]),a("li",[a("a",{attrs:{href:"#sco-2022-elections"}},[t._v("SCO 2022 elections")])]),a("li",[a("a",{attrs:{href:"#new-project-underway"}},[t._v("New project underway")])])])]),a("li",[a("a",{attrs:{href:"#thank-you"}},[t._v("Thank you")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),a("p",[t._v("This is the second release of the version 21 "),a("RouterLink",{attrs:{to:"/en/guide/project/policies.html#release-schedule"}},[t._v("release cycle")]),t._v('. There will be one more release in September before version 21 is "finalized" in the December long-term support version. One thing users may have noticed starting in 21.3, the router was moved to its own package: '),a("a",{attrs:{href:"https://pypi.org/project/sanic-routing",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("sanic-routing")]),a("OutboundLink")],1),t._v(". This change is likely to stay for now. Starting with this release, the minimum required version is 0.7.0.")],1),t._v(" "),a("h2",{attrs:{id:"what-to-know"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-to-know"}},[t._v("#")]),t._v(" What to know")]),t._v(" "),a("p",[t._v("More details in the "),a("a",{attrs:{href:"https://sanic.readthedocs.io/en/stable/sanic/changelog.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Changelog"),a("OutboundLink")],1),t._v(". Notable new or breaking features, and what to upgrade...")]),t._v(" "),a("h3",{attrs:{id:"deprecation-of-streaminghttpresponse"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deprecation-of-streaminghttpresponse"}},[t._v("#")]),t._v(" Deprecation of "),a("code",[t._v("StreamingHTTPResponse")])]),t._v(" "),a("p",[t._v("The use of "),a("code",[t._v("StreamingHTTPResponse")]),t._v(" has been deprecated and will be removed in the 21.12 release. This impacts both "),a("code",[t._v("sanic.response.stream")]),t._v(" and "),a("code",[t._v("sanic.response.file_stream")]),t._v(", which both under the hood instantiate "),a("code",[t._v("StreamingHTTPResponse")]),t._v(".")]),t._v(" "),a("p",[t._v("Although the exact migration path has yet to be determined, "),a("code",[t._v("sanic.response.stream")]),t._v(" and "),a("code",[t._v("sanic.response.file_stream")]),t._v(" will continue to exist in v21.12 in some form as convenience operators. Look for more details throughout this Summer as we hope to have this finalized by the September release.")]),t._v(" "),a("h3",{attrs:{id:"deprecation-of-compositionview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deprecation-of-compositionview"}},[t._v("#")]),t._v(" Deprecation of "),a("code",[t._v("CompositionView")])]),t._v(" "),a("p",[t._v("Usage of "),a("code",[t._v("CompositionView")]),t._v(" has been deprecated and will be removed in 21.12.")]),t._v(" "),a("h3",{attrs:{id:"deprecation-of-path-parameter-types-string-and-number"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deprecation-of-path-parameter-types-string-and-number"}},[t._v("#")]),t._v(" Deprecation of path parameter types: "),a("code",[t._v("string")]),t._v(" and "),a("code",[t._v("number")])]),t._v(" "),a("p",[t._v("Going forward, you should use "),a("code",[t._v("str")]),t._v(" and "),a("code",[t._v("float")]),t._v(" for path param types instead of "),a("code",[t._v("string")]),t._v(" and "),a("code",[t._v("number")]),t._v(".")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/<foo:str>/<bar:float>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("handler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" foo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])]),a("p",[t._v("Existing "),a("code",[t._v("string")]),t._v(" and "),a("code",[t._v("number")]),t._v(" types are aliased and will continue to work, but will be removed in v21.12.")]),t._v(" "),a("h3",{attrs:{id:"version-0-7-router-upgrades"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#version-0-7-router-upgrades"}},[t._v("#")]),t._v(" Version 0.7 router upgrades")]),t._v(" "),a("p",[t._v("This includes a number of bug fixes and more gracefully handles a wider array of edge cases than v0.6. If you experience any patterns that are not supported, "),a("a",{attrs:{href:"https://github.com/sanic-org/sanic-routing/issues",target:"_blank",rel:"noopener noreferrer"}},[t._v("please report them"),a("OutboundLink")],1),t._v(". You can see some of the issues resolved on the "),a("code",[t._v("sanic-routing")]),t._v(" "),a("a",{attrs:{href:"https://github.com/sanic-org/sanic-routing/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("release notes"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"inline-streaming-with-eof"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#inline-streaming-with-eof"}},[t._v("#")]),t._v(" Inline streaming with "),a("code",[t._v("eof()")])]),t._v(" "),a("p",[t._v("Version 21.3 included "),a("a",{attrs:{href:"https://sanic.dev/en/guide/release-notes/v21.3.html#what-to-know",target:"_blank",rel:"noopener noreferrer"}},[t._v("big changes in how streaming is handled"),a("OutboundLink")],1),t._v(". The pattern introduced will become the default (see below). As a convenience, a new "),a("code",[t._v("response.eof()")]),t._v(" method has been included. It should be called once the final data has been pushed to the client:")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("route")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("respond"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("content_type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/csv"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("send"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo,"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("send"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eof"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" response\n")])])]),a("h3",{attrs:{id:"new-path-parameter-type-slug"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-path-parameter-type-slug"}},[t._v("#")]),t._v(" New path parameter type: "),a("code",[t._v("slug")])]),t._v(" "),a("p",[t._v("You can now specify a dynamic path segment as a "),a("code",[t._v("slug")]),t._v(" with appropriate matching:")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/articles/<article_slug:slug>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("article")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" article_slug"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])]),a("p",[t._v("Slugs must consist of lowercase letters or digits. They may contain a hyphen ("),a("code",[t._v("-")]),t._v("), but it cannot be the first character.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("this-is-a-slug\nwith-123-is-also-a-slug\n111-at-start-is-a-slug\nNOT-a-slug\n-NOT-a-slug\n")])])]),a("h3",{attrs:{id:"stricter-application-and-blueprint-names-and-deprecation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stricter-application-and-blueprint-names-and-deprecation"}},[t._v("#")]),t._v(" Stricter application and blueprint names, and deprecation")]),t._v(" "),a("p",[t._v("Your application and "),a("code",[t._v("Blueprint")]),t._v(" instances must conform to a stricter set of requirements:")]),t._v(" "),a("ol",[a("li",[t._v("Only consisting of alphanumeric characters")]),t._v(" "),a("li",[t._v("May contain a hyphen ("),a("code",[t._v("-")]),t._v(") or an underscore ("),a("code",[t._v("_")]),t._v(")")]),t._v(" "),a("li",[t._v("Must begin with a letter (uppercase or lowercase)")])]),t._v(" "),a("p",[t._v("The naming convention is similar to Python variable naming conventions, with the addition of allowing hyphens ("),a("code",[t._v("-")]),t._v(").")]),t._v(" "),a("p",[t._v("The looser standard has been deprecatated. Beginning in 21.12, non-conformance will be a startup time error.")]),t._v(" "),a("h3",{attrs:{id:"a-new-access-on-route-object-route-uri"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-new-access-on-route-object-route-uri"}},[t._v("#")]),t._v(" A new access on "),a("code",[t._v("Route")]),t._v(" object: "),a("code",[t._v("route.uri")])]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("Route")]),t._v(" object in v21.3 no longer had a "),a("code",[t._v("uri")]),t._v(" attribute. Instead, the closes you could get was "),a("code",[t._v("route.path")]),t._v(". However, because of how "),a("code",[t._v("sanic-routing")]),t._v(" works, the "),a("code",[t._v("path")]),t._v(" property does "),a("em",[t._v("not")]),t._v(" have a leading "),a("code",[t._v("/")]),t._v(". This has been corrected so that now there is a "),a("code",[t._v("route.uri")]),t._v(" with a leading slash:")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("route"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uri "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"/')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("route"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),t._v("\n")])])]),a("h3",{attrs:{id:"a-new-accessor-on-request-object-impacting-ips"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-new-accessor-on-request-object-impacting-ips"}},[t._v("#")]),t._v(" A new accessor on "),a("code",[t._v("Request")]),t._v(" object impacting IPs")]),t._v(" "),a("p",[t._v("To access the IP address of the incoming request, Sanic has had a convenience accessor on the request object: "),a("code",[t._v("request.ip")]),t._v(". That is not new, and comes from an underlying object that provides details about the open HTTP connection: "),a("code",[t._v("request.conn_info")]),t._v(".")]),t._v(" "),a("p",[t._v("The current version adds a new "),a("code",[t._v("client_ip")]),t._v(" accessor to that "),a("code",[t._v("conn_info")]),t._v(' object. For IPv4, you will not notice a difference. However, for IPv6 applications, the new accessor will provide an "unwrapped" version of the address. Consider the following example:')]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("handler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" json"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"request.ip"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"request.conn_info.client"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conn_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"request.conn_info.client_ip"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conn_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("client_ip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sock"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("my_ipv6_sock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" http://"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("::1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(":8000\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"request.ip"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"::1"')]),t._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"request.conn_info.client"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[::1]"')]),t._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"request.conn_info.client_ip"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"::1"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("h3",{attrs:{id:"alternate-config-and-sanic-ctx-objects"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#alternate-config-and-sanic-ctx-objects"}},[t._v("#")]),t._v(" Alternate "),a("code",[t._v("Config")]),t._v(" and "),a("code",[t._v("Sanic.ctx")]),t._v(" objects")]),t._v(" "),a("p",[t._v("You can now pass your own config and context objects to your Sanic applications. A custom configuration "),a("em",[t._v("should")]),t._v(" be a subclass of "),a("code",[t._v("sanic.config.Config")]),t._v(". The context object can be anything you want, with no restrictions whatsoever.")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CustomConfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\nconfig "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" CustomConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Sanic"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"custom"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" config"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("assert")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("isinstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" CustomConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("And...")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CustomContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\nctx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" CustomContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Sanic"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"custom"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ctx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("assert")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("isinstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" CustomContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"sanic-cli-improvements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sanic-cli-improvements"}},[t._v("#")]),t._v(" Sanic CLI improvements")]),t._v(" "),a("ol",[a("li",[t._v("New flag for existing feature: "),a("code",[t._v("--auto-reload")])]),t._v(" "),a("li",[t._v("Some new shorthand flags for existing arguments")]),t._v(" "),a("li",[t._v("New feature: "),a("code",[t._v("--factory")])]),t._v(" "),a("li",[t._v("New feature: "),a("code",[t._v("--simple")])]),t._v(" "),a("li",[t._v("New feature: "),a("code",[t._v("--reload-dir")])])]),t._v(" "),a("h4",{attrs:{id:"factory-applications"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#factory-applications"}},[t._v("#")]),t._v(" Factory applications")]),t._v(" "),a("p",[t._v("For applications that follow the factory pattern (a function that returns a "),a("code",[t._v("sanic.Sanic")]),t._v(" instance), you can now launch your application from the Sanic CLI using the "),a("code",[t._v("--factory")]),t._v(" flag.")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" sanic "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Blueprint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Sanic"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" text\n\nbp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Blueprint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__file__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@bp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("handler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"üòé"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create_app")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Sanic"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Sanic"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__file__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("blueprint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" app\n")])])]),a("p",[t._v("You can now run it:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ sanic path.to:create_app "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--factory")]),t._v(" \n")])])]),a("h4",{attrs:{id:"sanic-simple-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sanic-simple-server"}},[t._v("#")]),t._v(" Sanic Simple Server")]),t._v(" "),a("p",[t._v("Sanic CLI now includes a simple pattern to serve a directory as a web server. It will look for an "),a("code",[t._v("index.html")]),t._v(" at the directory root.")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ sanic ./path/to/dir "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--simple")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("This feature is still in early "),a("em",[t._v("beta")]),t._v(" mode. It is likely to change in scope.")])]),t._v(" "),a("h4",{attrs:{id:"additional-reload-directories"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#additional-reload-directories"}},[t._v("#")]),t._v(" Additional reload directories")]),t._v(" "),a("p",[t._v("When using either "),a("code",[t._v("debug")]),t._v(" or "),a("code",[t._v("auto-reload")]),t._v(", you can include additional directories for Sanic to watch for new files.")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("sanic "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". --reload-dir"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/path/to/foo --reload-dir"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/path/to/bar\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("You do "),a("em",[t._v("NOT")]),t._v(" need to include this on your application directory. Sanic will automatically reload when any Python file in your application changes. You should use the "),a("code",[t._v("reload-dir")]),t._v(" argument when you want to listen and update your application when static files are updated.")])]),t._v(" "),a("h3",{attrs:{id:"version-prefix"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#version-prefix"}},[t._v("#")]),t._v(" Version prefix")]),t._v(" "),a("p",[t._v("When adding "),a("code",[t._v("version")]),t._v(", your route is prefixed with "),a("code",[t._v("/v<YOUR_VERSION_NUM>")]),t._v(". This will always be at the beginning of the path. This is not new.")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# /v1/my/path")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("route"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/my/path"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" version"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("Now, you can alter the prefix (and therefore add path segments "),a("em",[t._v("before")]),t._v(" the version).")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# /api/v1/my/path")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("route"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/my/path"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" version"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" version_prefix"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/api/v"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("The "),a("code",[t._v("version_prefix")]),t._v(" argument is can be defined in:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("app.route")]),t._v(" and "),a("code",[t._v("bp.route")]),t._v(" decorators (and all the convenience decorators also)")]),t._v(" "),a("li",[a("code",[t._v("Blueprint")]),t._v(" instantiation")]),t._v(" "),a("li",[a("code",[t._v("Blueprint.group")]),t._v(" constructor")]),t._v(" "),a("li",[a("code",[t._v("BlueprintGroup")]),t._v(" instantiation")]),t._v(" "),a("li",[a("code",[t._v("app.blueprint")]),t._v(" registration")])]),t._v(" "),a("h3",{attrs:{id:"signal-event-auto-registration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#signal-event-auto-registration"}},[t._v("#")]),t._v(" Signal event auto-registration")]),t._v(" "),a("p",[t._v("Setting "),a("code",[t._v("config.EVENT_AUTOREGISTER")]),t._v(" to "),a("code",[t._v("True")]),t._v(" will allow you to await any signal event even if it has not previously been defined with a signal handler.")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("signal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"do.something.start"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("signal_handler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" do_something"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dispatch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"do.something.complete"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# somethere else in your app:")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"do.something.complete"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"infinitely-reusable-and-nestable-blueprint-and-blueprintgroup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#infinitely-reusable-and-nestable-blueprint-and-blueprintgroup"}},[t._v("#")]),t._v(" Infinitely reusable and nestable "),a("code",[t._v("Blueprint")]),t._v(" and "),a("code",[t._v("BlueprintGroup")])]),t._v(" "),a("p",[t._v("A single "),a("code",[t._v("Blueprint")]),t._v(" may not be assigned and reused to multiple groups. The groups themselves can also by infinitely nested into one or more other groups. This allows for an unlimited range of composition.")]),t._v(" "),a("h3",{attrs:{id:"http-methods-as-enum"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-methods-as-enum"}},[t._v("#")]),t._v(" HTTP methods as "),a("code",[t._v("Enum")])]),t._v(" "),a("p",[t._v("Sanic now has "),a("code",[t._v("sanic.HTTPMethod")]),t._v(", which is an "),a("code",[t._v("Enum")]),t._v(". It can be used interchangeably with strings:")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" sanic "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Sanic"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" HTTPMethod\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("route")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" methods"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"post"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PUT"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" HTTPMethod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PATCH"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("handler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])]),a("h3",{attrs:{id:"expansion-of-httpmethodview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#expansion-of-httpmethodview"}},[t._v("#")]),t._v(" Expansion of "),a("code",[t._v("HTTPMethodView")])]),t._v(" "),a("p",[t._v("Class based views may be attached now in one of three ways:")]),t._v(" "),a("p",[a("strong",[t._v("Option 1 - Existing")])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DummyView")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HTTPMethodView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add_route"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("DummyView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("as_view"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/dummy"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Option 2 - From "),a("code",[t._v("attach")]),t._v(" method")])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DummyView")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HTTPMethodView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\nDummyView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attach"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Option 3 - From class definition at "),a("code",[t._v("__init_subclass__")])])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DummyView")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HTTPMethodView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" attach"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uri"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])]),a("p",[t._v("Options 2 and 3 are useful if your CBV is located in another file:")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" sanic "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Sanic"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" HTTPMethodView\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DummyView")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HTTPMethodView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" attach"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Sanic"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uri"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])]),a("h2",{attrs:{id:"news"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#news"}},[t._v("#")]),t._v(" News")]),t._v(" "),a("h3",{attrs:{id:"discord-and-support-forums"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#discord-and-support-forums"}},[t._v("#")]),t._v(" Discord and support forums")]),t._v(" "),a("p",[t._v("If you have not already joined our community, you can become a part by joining the "),a("a",{attrs:{href:"https://discord.gg/FARQzAEMAA",target:"_blank",rel:"noopener noreferrer"}},[t._v("Discord server"),a("OutboundLink")],1),t._v(" and the "),a("a",{attrs:{href:"https://community.sanicframework.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Community Forums"),a("OutboundLink")],1),t._v(". Also, follow "),a("a",{attrs:{href:"https://twitter.com/sanicframework",target:"_blank",rel:"noopener noreferrer"}},[t._v("@sanicframework"),a("OutboundLink")],1),t._v(" on Twitter.")]),t._v(" "),a("h3",{attrs:{id:"sco-2022-elections"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sco-2022-elections"}},[t._v("#")]),t._v(" SCO 2022 elections")]),t._v(" "),a("p",[t._v("The Summer üèù/Winter ‚ùÑÔ∏è (choose your Hemisphere) is upon us. That means we will be holding elections for the SCO. This year, we will have the following positions to fill:")]),t._v(" "),a("ul",[a("li",[t._v("Steering Council Member (2 year term)")]),t._v(" "),a("li",[t._v("Steering Council Member (2 year term)")]),t._v(" "),a("li",[t._v("Steering Council Member (1 year term)")]),t._v(" "),a("li",[t._v("Release Manager v22")]),t._v(" "),a("li",[t._v("Release Manager v22")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/vltr",target:"_blank",rel:"noopener noreferrer"}},[t._v("@vltr"),a("OutboundLink")],1),t._v(" will be staying on to complete his second year on the Steering Council.")]),t._v(" "),a("p",[t._v("If you are interested in learning more, you can read about the SCO "),a("RouterLink",{attrs:{to:"/en/guide/project/scope.html#roles-and-responsibilities"}},[t._v("roles and responsibilities")]),t._v(", or Adam Hopkins on Discord.")],1),t._v(" "),a("p",[t._v("Nominations will begin September 1. More details will be available on the Forums as we get closer.")]),t._v(" "),a("h3",{attrs:{id:"new-project-underway"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-project-underway"}},[t._v("#")]),t._v(" New project underway")]),t._v(" "),a("p",[t._v("We have added a new project to the SCO umbrella: "),a("a",{attrs:{href:"https://github.com/sanic-org/sanic-ext",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("sanic-ext")]),a("OutboundLink")],1),t._v(". It is not yet released, and in heavy active development. The goal for the project will ultimately be to replace "),a("a",{attrs:{href:"https://github.com/sanic-org/sanic-openapi",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("sanic-openapi")]),a("OutboundLink")],1),t._v(" with something that provides more features for web application developers, including input validation, CORS handling, and HTTP auto-method handlers. If you are interested in helping out, let us know on Discord. Look for an initial release of this project sometime (hopefully) before the September release.")]),t._v(" "),a("h2",{attrs:{id:"thank-you"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#thank-you"}},[t._v("#")]),t._v(" Thank you")]),t._v(" "),a("p",[t._v("Thank you to everyone that participated in this release: üëè")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/aaugustin",target:"_blank",rel:"noopener noreferrer"}},[t._v("@aaugustin"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/ahopkins",target:"_blank",rel:"noopener noreferrer"}},[t._v("@ahopkins"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/ajaygupta2790",target:"_blank",rel:"noopener noreferrer"}},[t._v("@ajaygupta2790"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/ashleysommer",target:"_blank",rel:"noopener noreferrer"}},[t._v("@ashleysommer"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/ent8r",target:"_blank",rel:"noopener noreferrer"}},[t._v("@ENT8R"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/fredlllll",target:"_blank",rel:"noopener noreferrer"}},[t._v("@fredlllll"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/graingert",target:"_blank",rel:"noopener noreferrer"}},[t._v("@graingert"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/harshanarayana",target:"_blank",rel:"noopener noreferrer"}},[t._v("@harshanarayana"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/jdraymon",target:"_blank",rel:"noopener noreferrer"}},[t._v("@jdraymon"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/kyle-verhoog",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Kyle-Verhoog"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/sanjeevanahilan",target:"_blank",rel:"noopener noreferrer"}},[t._v("@sanjeevanahilan"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/sjsadowski",target:"_blank",rel:"noopener noreferrer"}},[t._v("@sjsadowski"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/tronic",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Tronic"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/vltr",target:"_blank",rel:"noopener noreferrer"}},[t._v("@vltr"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/zinklu",target:"_blank",rel:"noopener noreferrer"}},[t._v("@ZinkLu"),a("OutboundLink")],1)]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("If you enjoy the project, please consider contributing. Of course we love code contributions, but we also love contributions in any form. Consider writing some documentation, showing off use cases, joining conversations and making your voice known, and if you are able, "),a("a",{attrs:{href:"https://opencollective.com/sanic-org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("financial contributions"),a("OutboundLink")],1),t._v(".")])])}),[],!1,null,null,null);a.default=n.exports}}]);