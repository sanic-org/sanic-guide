<!DOCTYPE html>
<html lang="zh-hans">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Version 21.6 | Sanic 框架</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#fd0d68">
    <meta name="description" content="Sanic 是 Python 3.7+ Web 服务器和 Web 框架，旨在提高性能。它允许使用 Python 3.5 中添加的 `async`/`await`等待语法，这使得您的代码有效的避免阻塞从而达到提升响应速度的目的。">
    <meta property="article:modified_time" content="2021-08-16T16:54:21.000Z">
    <meta property="og:title" content="Version 21.6">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/zh/guide/release-notes/v21.6.html">
    <meta property="og:image" content="/images/sanic-framework-social-media-preview-1280x640.png">
    <meta name="twitter:title" content="Version 21.6">
    <meta name="twitter:url" content="/zh/guide/release-notes/v21.6.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/images/sanic-framework-social-media-preview-1280x640.png">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Sanic Community Organization">
    <meta name="twitter:creator" content="@sanicframework">
    <meta name="msapplication-TileColor" content="#444444">
    <meta name="theme-color" content="#fd0d68">
    <link rel="preload" href="/assets/css/0.styles.8beafe0b.css" as="style"><link rel="preload" href="/assets/js/app.00a045bd.js" as="script"><link rel="preload" href="/assets/js/3.a087f406.js" as="script"><link rel="preload" href="/assets/js/4.96de3935.js" as="script"><link rel="preload" href="/assets/js/127.558c85ea.js" as="script"><link rel="prefetch" href="/assets/js/10.2bfb98ec.js"><link rel="prefetch" href="/assets/js/100.139d18d1.js"><link rel="prefetch" href="/assets/js/101.2b0ede35.js"><link rel="prefetch" href="/assets/js/102.b1768d36.js"><link rel="prefetch" href="/assets/js/103.7a8fc14f.js"><link rel="prefetch" href="/assets/js/104.9c4b5061.js"><link rel="prefetch" href="/assets/js/105.93829756.js"><link rel="prefetch" href="/assets/js/106.3326d29b.js"><link rel="prefetch" href="/assets/js/107.b808d63a.js"><link rel="prefetch" href="/assets/js/108.0767256c.js"><link rel="prefetch" href="/assets/js/109.1f992f21.js"><link rel="prefetch" href="/assets/js/11.d7dd5887.js"><link rel="prefetch" href="/assets/js/110.66693812.js"><link rel="prefetch" href="/assets/js/111.2e4572d9.js"><link rel="prefetch" href="/assets/js/112.e857173c.js"><link rel="prefetch" href="/assets/js/113.4e1de59e.js"><link rel="prefetch" href="/assets/js/114.34f7ac04.js"><link rel="prefetch" href="/assets/js/115.fe044749.js"><link rel="prefetch" href="/assets/js/116.e1143796.js"><link rel="prefetch" href="/assets/js/117.8ff5f0c9.js"><link rel="prefetch" href="/assets/js/118.22076767.js"><link rel="prefetch" href="/assets/js/119.0f44e250.js"><link rel="prefetch" href="/assets/js/12.8cabb5a7.js"><link rel="prefetch" href="/assets/js/120.8972f327.js"><link rel="prefetch" href="/assets/js/121.d8b6300d.js"><link rel="prefetch" href="/assets/js/122.3c63c0df.js"><link rel="prefetch" href="/assets/js/123.889991b8.js"><link rel="prefetch" href="/assets/js/124.03f8f3be.js"><link rel="prefetch" href="/assets/js/125.13177560.js"><link rel="prefetch" href="/assets/js/126.a5ad4979.js"><link rel="prefetch" href="/assets/js/128.42c472c0.js"><link rel="prefetch" href="/assets/js/13.f506585d.js"><link rel="prefetch" href="/assets/js/14.587f498e.js"><link rel="prefetch" href="/assets/js/15.611a787d.js"><link rel="prefetch" href="/assets/js/16.400ea2fc.js"><link rel="prefetch" href="/assets/js/17.e424ee19.js"><link rel="prefetch" href="/assets/js/18.88c22f34.js"><link rel="prefetch" href="/assets/js/19.3835b0f8.js"><link rel="prefetch" href="/assets/js/20.f1ccf364.js"><link rel="prefetch" href="/assets/js/21.bfa0184e.js"><link rel="prefetch" href="/assets/js/22.353a7e8d.js"><link rel="prefetch" href="/assets/js/23.91c6a67a.js"><link rel="prefetch" href="/assets/js/24.7b1e1ee8.js"><link rel="prefetch" href="/assets/js/25.d9fd5954.js"><link rel="prefetch" href="/assets/js/26.7a99a56f.js"><link rel="prefetch" href="/assets/js/27.df3147b7.js"><link rel="prefetch" href="/assets/js/28.f92dd6ab.js"><link rel="prefetch" href="/assets/js/29.bbd54504.js"><link rel="prefetch" href="/assets/js/30.7ec9dbf6.js"><link rel="prefetch" href="/assets/js/31.e251aaaa.js"><link rel="prefetch" href="/assets/js/32.00618ba9.js"><link rel="prefetch" href="/assets/js/33.4eeea17b.js"><link rel="prefetch" href="/assets/js/34.3f386cdf.js"><link rel="prefetch" href="/assets/js/35.34529991.js"><link rel="prefetch" href="/assets/js/36.02b16fe2.js"><link rel="prefetch" href="/assets/js/37.aae3b53c.js"><link rel="prefetch" href="/assets/js/38.74de58bd.js"><link rel="prefetch" href="/assets/js/39.612674d2.js"><link rel="prefetch" href="/assets/js/40.cc138444.js"><link rel="prefetch" href="/assets/js/41.4c18145b.js"><link rel="prefetch" href="/assets/js/42.6f3fa7dc.js"><link rel="prefetch" href="/assets/js/43.0a2ff75d.js"><link rel="prefetch" href="/assets/js/44.056e27ca.js"><link rel="prefetch" href="/assets/js/45.b3bcfde9.js"><link rel="prefetch" href="/assets/js/46.b1429274.js"><link rel="prefetch" href="/assets/js/47.23bc644f.js"><link rel="prefetch" href="/assets/js/48.fc584be5.js"><link rel="prefetch" href="/assets/js/49.0d18bf18.js"><link rel="prefetch" href="/assets/js/5.488b89ff.js"><link rel="prefetch" href="/assets/js/50.c43c7d64.js"><link rel="prefetch" href="/assets/js/51.3f3e15df.js"><link rel="prefetch" href="/assets/js/52.628f9019.js"><link rel="prefetch" href="/assets/js/53.7cb3a78b.js"><link rel="prefetch" href="/assets/js/54.ea893a5b.js"><link rel="prefetch" href="/assets/js/55.d874e858.js"><link rel="prefetch" href="/assets/js/56.9bc05056.js"><link rel="prefetch" href="/assets/js/57.d2a7bd09.js"><link rel="prefetch" href="/assets/js/58.1d430908.js"><link rel="prefetch" href="/assets/js/59.7c2a1e10.js"><link rel="prefetch" href="/assets/js/6.09f45e1e.js"><link rel="prefetch" href="/assets/js/60.debb59f7.js"><link rel="prefetch" href="/assets/js/61.99c0f204.js"><link rel="prefetch" href="/assets/js/62.136a5873.js"><link rel="prefetch" href="/assets/js/63.f4354687.js"><link rel="prefetch" href="/assets/js/64.117432cd.js"><link rel="prefetch" href="/assets/js/65.11a1a6b6.js"><link rel="prefetch" href="/assets/js/66.024035b1.js"><link rel="prefetch" href="/assets/js/67.5344ecd8.js"><link rel="prefetch" href="/assets/js/68.ab724dce.js"><link rel="prefetch" href="/assets/js/69.a947e33f.js"><link rel="prefetch" href="/assets/js/7.60caeb42.js"><link rel="prefetch" href="/assets/js/70.1dc08044.js"><link rel="prefetch" href="/assets/js/71.fe450a6b.js"><link rel="prefetch" href="/assets/js/72.48a3bc61.js"><link rel="prefetch" href="/assets/js/73.6296260d.js"><link rel="prefetch" href="/assets/js/74.556d0463.js"><link rel="prefetch" href="/assets/js/75.0b70649f.js"><link rel="prefetch" href="/assets/js/76.d4c8421e.js"><link rel="prefetch" href="/assets/js/77.1a6453fc.js"><link rel="prefetch" href="/assets/js/78.f9ad0804.js"><link rel="prefetch" href="/assets/js/79.78a2fca9.js"><link rel="prefetch" href="/assets/js/8.07026bbf.js"><link rel="prefetch" href="/assets/js/80.35b077cf.js"><link rel="prefetch" href="/assets/js/81.37c3ae73.js"><link rel="prefetch" href="/assets/js/82.43b33a60.js"><link rel="prefetch" href="/assets/js/83.05e13f5f.js"><link rel="prefetch" href="/assets/js/84.ad7c5b99.js"><link rel="prefetch" href="/assets/js/85.6eaf2188.js"><link rel="prefetch" href="/assets/js/86.158be3d3.js"><link rel="prefetch" href="/assets/js/87.610e2cd1.js"><link rel="prefetch" href="/assets/js/88.fd148deb.js"><link rel="prefetch" href="/assets/js/89.3ecb70ce.js"><link rel="prefetch" href="/assets/js/9.839d358d.js"><link rel="prefetch" href="/assets/js/90.ab3bbf8e.js"><link rel="prefetch" href="/assets/js/91.1c746c23.js"><link rel="prefetch" href="/assets/js/92.fc084460.js"><link rel="prefetch" href="/assets/js/93.8e5c335d.js"><link rel="prefetch" href="/assets/js/94.0fc7bbc5.js"><link rel="prefetch" href="/assets/js/95.6f3430f6.js"><link rel="prefetch" href="/assets/js/96.540f1bc8.js"><link rel="prefetch" href="/assets/js/97.4c089200.js"><link rel="prefetch" href="/assets/js/98.7999da46.js"><link rel="prefetch" href="/assets/js/99.d073bef6.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.843fe44c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8beafe0b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zh/" class="home-link router-link-active"><img src="https://raw.githubusercontent.com/sanic-org/sanic-assets/main/png/sanic-framework-logo-simple-400x97.png" alt="Sanic 框架" class="logo"> <span class="site-name can-hide">Sanic 框架</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zh/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档" class="dropdown-title"><span class="title">文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="文档" class="mobile-dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          用户指南
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/guide/getting-started.html" class="nav-link">
  介绍
</a></li><li class="dropdown-subitem"><a href="/zh/guide/basics/app.html" class="nav-link">
  入门
</a></li><li class="dropdown-subitem"><a href="/zh/guide/advanced/class-based-views.html" class="nav-link">
  进阶
</a></li><li class="dropdown-subitem"><a href="/zh/guide/best-practices/blueprints.html" class="nav-link">
  最佳实践
</a></li><li class="dropdown-subitem"><a href="/zh/guide/deployment/configuration.html" class="nav-link">
  运行和部署
</a></li></ul></li><li class="dropdown-item"><h4>
          API 文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://sanic.readthedocs.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  查看API文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Org 文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/guide/project/policies.html" class="nav-link">
  Policies
</a></li><li class="dropdown-subitem"><a href="/zh/guide/project/scope.html" class="nav-link">
  S.C.O.P.E.
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="社区" class="dropdown-title"><span class="title">社区</span> <span class="arrow down"></span></button> <button type="button" aria-label="社区" class="mobile-dropdown-title"><span class="title">社区</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://community.sanicframework.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  论坛
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://discord.gg/FARQzAEMAA" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://twitter.com/sanicframework" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://opencollective.com/sanic-org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Sponsorship
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/guide/release-notes/v21.6.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/guide/release-notes/v21.6.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/sanic-org/sanic" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zh/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档" class="dropdown-title"><span class="title">文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="文档" class="mobile-dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          用户指南
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/guide/getting-started.html" class="nav-link">
  介绍
</a></li><li class="dropdown-subitem"><a href="/zh/guide/basics/app.html" class="nav-link">
  入门
</a></li><li class="dropdown-subitem"><a href="/zh/guide/advanced/class-based-views.html" class="nav-link">
  进阶
</a></li><li class="dropdown-subitem"><a href="/zh/guide/best-practices/blueprints.html" class="nav-link">
  最佳实践
</a></li><li class="dropdown-subitem"><a href="/zh/guide/deployment/configuration.html" class="nav-link">
  运行和部署
</a></li></ul></li><li class="dropdown-item"><h4>
          API 文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://sanic.readthedocs.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  查看API文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Org 文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/guide/project/policies.html" class="nav-link">
  Policies
</a></li><li class="dropdown-subitem"><a href="/zh/guide/project/scope.html" class="nav-link">
  S.C.O.P.E.
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="社区" class="dropdown-title"><span class="title">社区</span> <span class="arrow down"></span></button> <button type="button" aria-label="社区" class="mobile-dropdown-title"><span class="title">社区</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://community.sanicframework.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  论坛
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://discord.gg/FARQzAEMAA" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://twitter.com/sanicframework" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://opencollective.com/sanic-org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Sponsorship
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/guide/release-notes/v21.6.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/guide/release-notes/v21.6.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/sanic-org/sanic" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>概览</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>入门</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>最佳实践</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>运行和部署</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>如何...</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>发行记录</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/guide/release-notes/v21.6.html" aria-current="page" class="active sidebar-link">Version 21.6</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/guide/release-notes/v21.6.html#介绍-introduction" class="sidebar-link">介绍(Introduction)</a></li><li class="sidebar-sub-header"><a href="/zh/guide/release-notes/v21.6.html#更新内容-what-to-know" class="sidebar-link">更新内容(What to know)</a></li><li class="sidebar-sub-header"><a href="/zh/guide/release-notes/v21.6.html#新闻-news" class="sidebar-link">新闻(News)</a></li><li class="sidebar-sub-header"><a href="/zh/guide/release-notes/v21.6.html#鸣谢-thank-you" class="sidebar-link">鸣谢(Thank you)</a></li></ul></li><li><a href="/zh/guide/release-notes/v21.3.html" class="sidebar-link">Version 21.3</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>组织</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div sidebar-items="[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]"><main class="page"> <div class="theme-default-content content__default"><h1 id="version-21-6"><a href="#version-21-6" class="header-anchor">#</a> Version 21.6</h1> <p></p><div class="table-of-contents"><ul><li><a href="#介绍-introduction">介绍(Introduction)</a></li><li><a href="#更新内容-what-to-know">更新内容(What to know)</a><ul><li><a href="#弃用-streaminghttpresponse-deprecation-of-streaminghttpresponse">弃用 StreamingHTTPResponse (Deprecation of StreamingHTTPResponse)</a></li><li><a href="#弃用-compositionview-deprecation-of-compositionview">弃用 CompositionView(Deprecation of CompositionView)</a></li><li><a href="#弃用路径参数类型-string-和-number-deprecation-of-path-parameter-types-string-and-number">弃用路径参数类型： string 和 number (Deprecation of path parameter types: string and number)</a></li><li><a href="#升级至0-7版本的路由-version-0-7-router-upgrades">升级至0.7版本的路由(Version 0.7 router upgrades)</a></li><li><a href="#使用-eof-来结束流式传输-inline-streaming-with-eof">使用 eof() 来结束流式传输(Inline streaming with eof())</a></li><li><a href="#新的路径参数类型-slug-new-path-parameter-type-slug">新的路径参数类型 slug (New path parameter type: slug)</a></li><li><a href="#更加严格的应用蓝图名称-弃用随意的命名方式-stricter-application-and-blueprint-names-and-deprecation">更加严格的应用蓝图名称，弃用随意的命名方式(Stricter application and blueprint names, and deprecation)</a></li><li><a href="#route-对象的-route-uri-新属性-a-new-access-on-route-object-route-uri">Route 对象的 route.uri 新属性 (A new access on Route object: route.uri)</a></li><li><a href="#request-对象包含ip信息的新属性-a-new-accessor-on-request-object-impacting-ips">Request 对象包含ip信息的新属性(A new accessor on Request object impacting IPs)</a></li><li><a href="#可选的-config-和-sanic-ctx-对象-alternate-config-and-sanic-ctx-objects">可选的 Config 和 Sanic.ctx 对象 (Alternate Config and Sanic.ctx objects)</a></li><li><a href="#sanic-命令行工具改进-sanic-cli-improvements">Sanic 命令行工具改进(Sanic CLI improvements)</a></li><li><a href="#版本前缀-version-prefix">版本前缀(Version prefix)</a></li><li><a href="#信号事件的自动注册-signal-event-auto-registration">信号事件的自动注册(Signal event auto-registration)</a></li><li><a href="#可重复利用和可嵌套的-blueprint-和-blueprintgroup-infinitely-reusable-and-nestable-blueprint-and-blueprintgroup">可重复利用和可嵌套的 Blueprint 和 BlueprintGroup (Infinitely reusable and nestable Blueprint and BlueprintGroup)</a></li><li><a href="#http-方法作为-enum-http-methods-as-enum">HTTP 方法作为 Enum (HTTP methods as Enum)</a></li><li><a href="#拓展-httpmethodview-expansion-of-httpmethodview">拓展 HTTPMethodView (Expansion of HTTPMethodView)</a></li></ul></li><li><a href="#新闻-news">新闻(News)</a><ul><li><a href="#discord-聊天室和社区论坛-discord-and-support-forums">Discord 聊天室和社区论坛 (Discord and support forums)</a></li><li><a href="#sanic-社区组织-2022-年选举-sco-2022-elections">Sanic 社区组织 2022 年选举(SCO 2022 elections)</a></li><li><a href="#正在进行的新项目-new-project-underway">正在进行的新项目(New project underway)</a></li></ul></li><li><a href="#鸣谢-thank-you">鸣谢(Thank you)</a></li></ul></div><p></p> <h2 id="介绍-introduction"><a href="#介绍-introduction" class="header-anchor">#</a> 介绍(Introduction)</h2> <p>这是 21 版本<a href="/zh/guide/project/policies.html#release-schedule">发布周期</a>内的第二次发布。我们将在 12 月份发布长期支持办，在此之前，我们还会在 9 月还会进行一次发布。值得注意的是，在 21.3 版本中，路由已经被作为依赖被移动到了单独的包中： <a href="https://pypi.org/project/sanic-routing" target="_blank" rel="noopener noreferrer"><code>sanic-routing</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。这一变化可能会暂时保留。从这个版本开始，路由最低要求的版本是0.7.0。</p> <h2 id="更新内容-what-to-know"><a href="#更新内容-what-to-know" class="header-anchor">#</a> 更新内容(What to know)</h2> <p>更多细节详见<a href="https://sanic.readthedocs.io/en/stable/sanic/changelog.html" target="_blank" rel="noopener noreferrer">发布说明<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。以下是值得注意的新功能或突破性变化，以及更新内容...</p> <h3 id="弃用-streaminghttpresponse-deprecation-of-streaminghttpresponse"><a href="#弃用-streaminghttpresponse-deprecation-of-streaminghttpresponse" class="header-anchor">#</a> 弃用 <code>StreamingHTTPResponse</code> (Deprecation of <code>StreamingHTTPResponse</code>)</h3> <p><code>StreamingHTTPResponse</code> 已经被弃用，并将在 21.12 版本中删除。这将影响 <code>sanic.response.stream</code> 和 <code>sanic.response.file_stream</code> 方法，它们都依赖 <code>StreamingHTTPResponse</code> 对象。</p> <p>尽管确切的迁移路线还没有确认，但是 <code>sanic.response.stream</code> 和 <code>sanic.response.file_stream</code> 将继续以某种便捷操作的形式继续存在于 v21.12 中。我们希望经历一个夏天的讨论，在 9 月的发布前确定更多细节。</p> <h3 id="弃用-compositionview-deprecation-of-compositionview"><a href="#弃用-compositionview-deprecation-of-compositionview" class="header-anchor">#</a> 弃用 <code>CompositionView</code>(Deprecation of <code>CompositionView</code>)</h3> <p><code>CompositionView</code> 已经被弃用，并且将在 21.12 版本中删除。</p> <h3 id="弃用路径参数类型-string-和-number-deprecation-of-path-parameter-types-string-and-number"><a href="#弃用路径参数类型-string-和-number-deprecation-of-path-parameter-types-string-and-number" class="header-anchor">#</a> 弃用路径参数类型： <code>string</code> 和 <code>number</code> (Deprecation of path parameter types: <code>string</code> and <code>number</code>)</h3> <p>今后，您应该使用 <code>str</code> 和 <code>float</code> 作为路径参数类型来替代原先的 <code>string</code> 和 <code>number</code>。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>get</span><span class="token punctuation">(</span><span class="token string">&quot;/&lt;foo:str&gt;/&lt;bar:float&gt;&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">handler</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> foo<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token builtin">float</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><p>现有的 <code>string</code> 和 <code>number</code> 类型将作为新类型的别名，但将在v21.12中被删除。</p> <h3 id="升级至0-7版本的路由-version-0-7-router-upgrades"><a href="#升级至0-7版本的路由-version-0-7-router-upgrades" class="header-anchor">#</a> 升级至0.7版本的路由(Version 0.7 router upgrades)</h3> <p>在0.7版本中，修复了一些列 bug，并且相比 0.6 版本，新版本能优雅地处理更多的边缘情况。如果您遇到任何不支持的路由模式，请<a href="https://github.com/sanic-org/sanic-routing/issues" target="_blank" rel="noopener noreferrer">在这里反馈<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。您可以在 <code>sanic-routing</code> <a href="https://github.com/sanic-org/sanic-routing/releases" target="_blank" rel="noopener noreferrer">发布说明<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中看到一些问题的解决。</p> <h3 id="使用-eof-来结束流式传输-inline-streaming-with-eof"><a href="#使用-eof-来结束流式传输-inline-streaming-with-eof" class="header-anchor">#</a> 使用 <code>eof()</code> 来结束流式传输(Inline streaming with <code>eof()</code>)</h3> <p>我们在 21.3 中对处理流式传输进行了<a href="https://sanicframework.org/zh/guide/release-notes/v21.3.html#%E6%9B%B4%E6%96%B0%E5%86%85%E5%AE%B9-what-to-know" target="_blank" rel="noopener noreferrer">重大变更<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，并且提供了新的串流方式。为了提供进一步的便利，我们在 21.6 中加入了一个新的 <code>response.eof()</code> 方法来结串流。一旦所有的数据被推送到客户端，就该调用该方法。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    response <span class="token operator">=</span> <span class="token keyword">await</span> request<span class="token punctuation">.</span>respond<span class="token punctuation">(</span>content_type<span class="token operator">=</span><span class="token string">&quot;text/csv&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">await</span> response<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token string">&quot;foo,&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">await</span> response<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">await</span> response<span class="token punctuation">.</span>eof<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> response
</code></pre></div><h3 id="新的路径参数类型-slug-new-path-parameter-type-slug"><a href="#新的路径参数类型-slug-new-path-parameter-type-slug" class="header-anchor">#</a> 新的路径参数类型 <code>slug</code> (New path parameter type: <code>slug</code>)</h3> <p>你现在可以使用 <code>slug</code> 类型来指定一段动态的路径并进行适当的匹配。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>get</span><span class="token punctuation">(</span><span class="token string">&quot;/articles/&lt;article_slug:slug&gt;&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">article</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> article_slug<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><p><code>slug</code> 必须由小写字母或数字组成。它可以包含多个连字符（<code>-</code>），但它不能放在开头。</p> <div class="language- extra-class"><pre class="language-text"><code>this-is-a-slug
with-123-is-also-a-slug
111-at-start-is-a-slug
NOT-a-slug
-NOT-a-slug
</code></pre></div><h3 id="更加严格的应用蓝图名称-弃用随意的命名方式-stricter-application-and-blueprint-names-and-deprecation"><a href="#更加严格的应用蓝图名称-弃用随意的命名方式-stricter-application-and-blueprint-names-and-deprecation" class="header-anchor">#</a> 更加严格的应用蓝图名称，弃用随意的命名方式(Stricter application and blueprint names, and deprecation)</h3> <p>你的应用和蓝图实例必须符合一套更严格命名的要求。</p> <ol><li>只能由字母数字字符组成</li> <li>可以包含一个连字符（<code>-</code>）或下划线（<code>_</code>）</li> <li>必须以一个字母开头（大写或小写）</li></ol> <p>这样的命名规则类似于 Python 的变量命名规则，但增加了允许连字符（<code>-</code>）。</p> <p>较随意的命名标准已被废除。从 21.12 开始，不符合标准的名称将会导致一个运行时的错误。</p> <h3 id="route-对象的-route-uri-新属性-a-new-access-on-route-object-route-uri"><a href="#route-对象的-route-uri-新属性-a-new-access-on-route-object-route-uri" class="header-anchor">#</a> <code>Route</code> 对象的 <code>route.uri</code> 新属性 (A new access on <code>Route</code> object: <code>route.uri</code>)</h3> <p>v21.3 中的 <code>Route</code> 对象不再有 <code>uri</code> 属性。取而代之的是 <code>route.path</code> 。然而，由于 <code>sanic-routing</code> 的工作方式，<code>path</code> 属性 <em>不能</em> 再以斜杠 <code>/</code> 开头。所以现在设置以斜杠开头的 <code>route.uri</code> 属性来作为补充。</p> <div class="language-python extra-class"><pre class="language-python"><code>route<span class="token punctuation">.</span>uri <span class="token operator">==</span> <span class="token string-interpolation"><span class="token string">f&quot;/</span><span class="token interpolation"><span class="token punctuation">{</span>route<span class="token punctuation">.</span>path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
</code></pre></div><h3 id="request-对象包含ip信息的新属性-a-new-accessor-on-request-object-impacting-ips"><a href="#request-对象包含ip信息的新属性-a-new-accessor-on-request-object-impacting-ips" class="header-anchor">#</a> <code>Request</code> 对象包含ip信息的新属性(A new accessor on <code>Request</code> object impacting IPs)</h3> <p>Request 对象上有一个 <code>request.ip</code> 属性能很方便地获取请求的 IP 信息。这个属性值来自另一个包含了更多 HTTP 连接细节的底层对象：<code>request.conn_info</code> 。</p> <p>目前的版本为 <code>conn_info</code> 对象增加了一个新的 <code>client_ip</code> 属性。对于 IPv4 ，您不会注意到有什么不同。然而，对于 IPv6 的应用，新的属性将提供一个“无包装”的地址版本。请看下面的例子：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>get</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">handler</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> json<span class="token punctuation">(</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;request.ip&quot;</span><span class="token punctuation">:</span> request<span class="token punctuation">.</span>ip<span class="token punctuation">,</span>
            <span class="token string">&quot;request.conn_info.client&quot;</span><span class="token punctuation">:</span> request<span class="token punctuation">.</span>conn_info<span class="token punctuation">.</span>client<span class="token punctuation">,</span>
            <span class="token string">&quot;request.conn_info.client_ip&quot;</span><span class="token punctuation">:</span> request<span class="token punctuation">.</span>conn_info<span class="token punctuation">.</span>client_ip<span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>sock<span class="token operator">=</span>my_ipv6_sock<span class="token punctuation">)</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> http://<span class="token punctuation">\</span><span class="token punctuation">[</span>::1<span class="token punctuation">\</span><span class="token punctuation">]</span>:8000
<span class="token punctuation">{</span>
  <span class="token string">&quot;request.ip&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;::1&quot;</span>,
  <span class="token string">&quot;request.conn_info.client&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;[::1]&quot;</span>,
  <span class="token string">&quot;request.conn_info.client_ip&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;::1&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="可选的-config-和-sanic-ctx-对象-alternate-config-and-sanic-ctx-objects"><a href="#可选的-config-和-sanic-ctx-对象-alternate-config-and-sanic-ctx-objects" class="header-anchor">#</a> 可选的 <code>Config</code> 和 <code>Sanic.ctx</code> 对象 (Alternate <code>Config</code> and <code>Sanic.ctx</code> objects)</h3> <p>您现在可以为 Sanic 应用传入自定义的配置和上下文对象。自定义的配置<em>应该</em>是 <code>sanic.config.Config</code> 的子类。上下文则可以被设置为任何对象，没有限制。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">CustomConfig</span><span class="token punctuation">(</span>Config<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
config <span class="token operator">=</span> CustomConfig<span class="token punctuation">(</span><span class="token punctuation">)</span>
app <span class="token operator">=</span> Sanic<span class="token punctuation">(</span><span class="token string">&quot;custom&quot;</span><span class="token punctuation">,</span> config<span class="token operator">=</span>config<span class="token punctuation">)</span>
<span class="token keyword">assert</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>config<span class="token punctuation">,</span> CustomConfig<span class="token punctuation">)</span>
</code></pre></div><p>和：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">CustomContext</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
ctx <span class="token operator">=</span> CustomContext<span class="token punctuation">(</span><span class="token punctuation">)</span>
app <span class="token operator">=</span> Sanic<span class="token punctuation">(</span><span class="token string">&quot;custom&quot;</span><span class="token punctuation">,</span> ctx<span class="token operator">=</span>ctx<span class="token punctuation">)</span>
<span class="token keyword">assert</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>ctx<span class="token punctuation">,</span> CustomContext<span class="token punctuation">)</span>
</code></pre></div><h3 id="sanic-命令行工具改进-sanic-cli-improvements"><a href="#sanic-命令行工具改进-sanic-cli-improvements" class="header-anchor">#</a> Sanic 命令行工具改进(Sanic CLI improvements)</h3> <ol><li>现有功能新标志：<code>--auto-reload</code></li> <li>现有参数的的新缩写标志</li> <li>新功能：<code>--factory</code></li> <li>新功能：<code>--simple</code></li> <li>新功能：<code>--reload-dir</code></li></ol> <h4 id="工厂应用-factory-applications"><a href="#工厂应用-factory-applications" class="header-anchor">#</a> 工厂应用(Factory applications)</h4> <p>对于遵循工厂模式（一个返回 <code>sanic.Sanic</code> 实例的函数）的应用程序，您可以在 Sanic 命令行工具中添加 <code>--factory</code> 标志来启动它。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> sanic <span class="token keyword">import</span> Blueprint<span class="token punctuation">,</span> Sanic<span class="token punctuation">,</span> text
bp <span class="token operator">=</span> Blueprint<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span>
<span class="token decorator annotation punctuation">@bp<span class="token punctuation">.</span>get</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">handler</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> text<span class="token punctuation">(</span><span class="token string">&quot;😎&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">create_app</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Sanic<span class="token punctuation">:</span>
    app <span class="token operator">=</span> Sanic<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>blueprint<span class="token punctuation">(</span>bp<span class="token punctuation">)</span>
    <span class="token keyword">return</span> app
</code></pre></div><p>您可以使用如下命令来启动：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ sanic path.to:create_app --factory 
</code></pre></div><h4 id="简易服务器-sanic-simple-server"><a href="#简易服务器-sanic-simple-server" class="header-anchor">#</a> 简易服务器(Sanic Simple Server)</h4> <p>Sanic 命令行工具现在添加了简易模式的命令，它将启动一个 Sanic 服务并代理指定目录下的静态文件，同时也会在第一级目录中自动寻找 <code>index.html</code> 文件。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ sanic ./path/to/dir --simple
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p>该功能目前仍处于早期测试阶段。可能会在今后的版本中更改。</p></div> <h4 id="指定额外的重启监听目录-additional-reload-directories"><a href="#指定额外的重启监听目录-additional-reload-directories" class="header-anchor">#</a> 指定额外的重启监听目录(Additional reload directories)</h4> <p>当使用 <code>debug</code> 或者是 <code>auto-reload</code> 时，您可以指定额外的目录来确保这些目录中的文件发生变动时重启 Sanic 应用。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>sanic <span class="token punctuation">..</span>. --reload-dir<span class="token operator">=</span>/path/to/foo --reload-dir<span class="token operator">=</span>/path/to/bar
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">提示</p> <p>您<em>不需要</em>指定应用所在的目录。Sanic 将会自动的检测应用目录下 Python 文件的变化并重启。您应该使用 <code>reload-dir</code> 参数来指定其他您关心的静态文件，并且在这些文件变化时通知应用重启。</p></div> <h3 id="版本前缀-version-prefix"><a href="#版本前缀-version-prefix" class="header-anchor">#</a> 版本前缀(Version prefix)</h3> <p>当使用了 <code>version</code> 参数时，您的路由会自动添加 <code>/v&lt;YOUR_VERSION_NUM&gt;</code> 的前缀。这并不是新的功能。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># /v1/my/path</span>
app<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">&quot;/my/path&quot;</span><span class="token punctuation">,</span> version<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre></div><p>现在，您可以通过在版本信息<em>之前</em>添加额外的路径信息的方式来可以修改这个固定前缀。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># /api/v1/my/path</span>
app<span class="token punctuation">.</span>route<span class="token punctuation">(</span><span class="token string">&quot;/my/path&quot;</span><span class="token punctuation">,</span> version<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> version_prefix<span class="token operator">=</span><span class="token string">&quot;/api/v&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p><code>version_prefix</code> 参数可以这么使用：</p> <ul><li>使用 <code>app.route</code> 和 <code>bp.route</code> 装饰器（以及所有其他装饰器）时</li> <li>创建 <code>Blueprint</code> 对象时</li> <li>调用 <code>Blueprint.group</code> 函数时</li> <li>创建 <code>BlueprintGroup</code> 对象时</li> <li>使用 <code>app.blueprint</code> 注册蓝图时</li></ul> <h3 id="信号事件的自动注册-signal-event-auto-registration"><a href="#信号事件的自动注册-signal-event-auto-registration" class="header-anchor">#</a> 信号事件的自动注册(Signal event auto-registration)</h3> <p>将配置项 <code>config.EVENT_AUTOREGISTER</code> 设置为 <code>True</code> 时将允许您等待任何的信号事件，即使这些信号没有被注册到一个响应函数上。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>signal</span><span class="token punctuation">(</span><span class="token string">&quot;do.something.start&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">signal_handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">await</span> do_something<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">await</span> app<span class="token punctuation">.</span>dispatch<span class="token punctuation">(</span><span class="token string">&quot;do.something.complete&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># somethere else in your app:</span>
<span class="token keyword">await</span> app<span class="token punctuation">.</span>event<span class="token punctuation">(</span><span class="token string">&quot;do.something.complete&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="可重复利用和可嵌套的-blueprint-和-blueprintgroup-infinitely-reusable-and-nestable-blueprint-and-blueprintgroup"><a href="#可重复利用和可嵌套的-blueprint-和-blueprintgroup-infinitely-reusable-and-nestable-blueprint-and-blueprintgroup" class="header-anchor">#</a> 可重复利用和可嵌套的 <code>Blueprint</code> 和 <code>BlueprintGroup</code> (Infinitely reusable and nestable <code>Blueprint</code> and <code>BlueprintGroup</code>)</h3> <p>单独的 <code>Blueprint</code> 可能不会被多个蓝图组重复注册。但是蓝图组本身可以被循环嵌套至一个或多个其他组。这将消除了蓝图组构成方式的限制。</p> <h3 id="http-方法作为-enum-http-methods-as-enum"><a href="#http-方法作为-enum-http-methods-as-enum" class="header-anchor">#</a> HTTP 方法作为 <code>Enum</code> (HTTP methods as <code>Enum</code>)</h3> <p>Sanic 现在设置了 <code>sanic.HTTPMethod</code> 的 <code>Enum</code> 枚举对象。它可以与字符串交替使用。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> sanic <span class="token keyword">import</span> Sanic<span class="token punctuation">,</span> HTTPMethod
<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;PUT&quot;</span><span class="token punctuation">,</span> HTTPMethod<span class="token punctuation">.</span>PATCH<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><h3 id="拓展-httpmethodview-expansion-of-httpmethodview"><a href="#拓展-httpmethodview-expansion-of-httpmethodview" class="header-anchor">#</a> 拓展 <code>HTTPMethodView</code> (Expansion of <code>HTTPMethodView</code>)</h3> <p>基于类的视图现在拥有以下三种关联app的方式：</p> <p><strong>方式1 - 现有的</strong></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">DummyView</span><span class="token punctuation">(</span>HTTPMethodView<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
app<span class="token punctuation">.</span>add_route<span class="token punctuation">(</span>DummyView<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;/dummy&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>方式2 - 使用 <code>attach</code> 方法关联</strong></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">DummyView</span><span class="token punctuation">(</span>HTTPMethodView<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
DummyView<span class="token punctuation">.</span>attach<span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>方式3 - 定义类时使用 <code>__init_subclass__</code> 方法关联</strong></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">DummyView</span><span class="token punctuation">(</span>HTTPMethodView<span class="token punctuation">,</span> attach<span class="token operator">=</span>app<span class="token punctuation">,</span> uri<span class="token operator">=</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><p>如果你您的视图定义在其他文件中，方式2和方式3将会比较有用：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> sanic <span class="token keyword">import</span> Sanic<span class="token punctuation">,</span> HTTPMethodView
<span class="token keyword">class</span> <span class="token class-name">DummyView</span><span class="token punctuation">(</span>HTTPMethodView<span class="token punctuation">,</span> attach<span class="token operator">=</span>Sanic<span class="token punctuation">.</span>get_app<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> uri<span class="token operator">=</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><h2 id="新闻-news"><a href="#新闻-news" class="header-anchor">#</a> 新闻(News)</h2> <h3 id="discord-聊天室和社区论坛-discord-and-support-forums"><a href="#discord-聊天室和社区论坛-discord-and-support-forums" class="header-anchor">#</a> Discord 聊天室和社区论坛 (Discord and support forums)</h3> <p>如果您还没有加入我们的社区，您可以通过加入<a href="https://discord.gg/FARQzAEMAA" target="_blank" rel="noopener noreferrer">Discord服务器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="https://community.sanicframework.org/" target="_blank" rel="noopener noreferrer">社区论坛<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来参与社区讨论。此外，别忘了在Twitter上关注<a href="https://twitter.com/sanicframework" target="_blank" rel="noopener noreferrer">@sanicframework<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="sanic-社区组织-2022-年选举-sco-2022-elections"><a href="#sanic-社区组织-2022-年选举-sco-2022-elections" class="header-anchor">#</a> Sanic 社区组织 2022 年选举(SCO 2022 elections)</h3> <p>这个 夏天🏝 / 冬天❄️（根据您所在的半球）即将来临。这意味着我们将举行 Sanic 社区组织的选举。今年，我们将有以下职位需要填补：</p> <ul><li>指导委员会成员 （任期2年）</li> <li>指导委员会成员（任期2年）</li> <li>指导委员会成员（任期1年）</li> <li>v22版本发布经理</li> <li>v22版本发布经理</li></ul> <p><a href="https://github.com/vltr" target="_blank" rel="noopener noreferrer">@vltr<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 将继续担任指导委员会，完成他第二年的工作。</p> <p>如果您有兴趣了解更多信息，您可以阅读有关 SCO <a href="/zh/guide/project/scope.html#角色与责任-roles-and-responsibilities">角色和责任</a> 或在 Discord 上的找 Adam Hopkins 了解详细情况。</p> <p>提名将于 9 月 1 日开始。随着选举的来临，更多的信息将在论坛上发布。</p> <h3 id="正在进行的新项目-new-project-underway"><a href="#正在进行的新项目-new-project-underway" class="header-anchor">#</a> 正在进行的新项目(New project underway)</h3> <p>我们在 SCO 的名下增加了一个新项目：<a href="https://github.com/sanic-org/sanic-ext" target="_blank" rel="noopener noreferrer"><code>sanic-ext</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。该项目尚未发布，并处于积极开发中。这个项目的目标是最终取代<a href="https://github.com/sanic-org/sanic-openapi" target="_blank" rel="noopener noreferrer"><code>sanic-openapi</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，为 Web 应用开发者提供更多的功能，包括参数校验、CORS 和 HTTP自动响应。如果您有兴趣帮忙，请在 Discord 上告诉我们。我们希望在 9 月份的发布之前看到该项目的初始版本。</p> <h2 id="鸣谢-thank-you"><a href="#鸣谢-thank-you" class="header-anchor">#</a> 鸣谢(Thank you)</h2> <p>感谢所有参与本次发布的人：👏</p> <p><a href="https://github.com/aaugustin" target="_blank" rel="noopener noreferrer">@aaugustin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/ahopkins" target="_blank" rel="noopener noreferrer">@ahopkins<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/ajaygupta2790" target="_blank" rel="noopener noreferrer">@ajaygupta2790<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/ashleysommer" target="_blank" rel="noopener noreferrer">@ashleysommer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/ent8r" target="_blank" rel="noopener noreferrer">@ENT8R<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/fredlllll" target="_blank" rel="noopener noreferrer">@fredlllll<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/graingert" target="_blank" rel="noopener noreferrer">@graingert<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/harshanarayana" target="_blank" rel="noopener noreferrer">@harshanarayana<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/jdraymon" target="_blank" rel="noopener noreferrer">@jdraymon<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/kyle-verhoog" target="_blank" rel="noopener noreferrer">@Kyle-Verhoog<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/sanjeevanahilan" target="_blank" rel="noopener noreferrer">@sanjeevanahilan<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/sjsadowski" target="_blank" rel="noopener noreferrer">@sjsadowski<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/tronic" target="_blank" rel="noopener noreferrer">@Tronic<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/vltr" target="_blank" rel="noopener noreferrer">@vltr<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/zinklu" target="_blank" rel="noopener noreferrer">@ZinkLu<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <hr> <p>如果您喜欢本项目，请考虑参与建设本项目。我们欢迎您提交代码，也欢迎您以任何其他方式来参与本项目的建设。比如撰写文档，分享使用心得，参与社区讨论，当然，如果经济允许，您也可以考虑<a href="https://opencollective.com/sanic-org/" target="_blank" rel="noopener noreferrer">经济资助<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/sanic-org/sanic-guide/edit/main/src/zh/guide/release-notes/v21.6.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">Mon, 16 Aug 2021 16:54:21 GMT</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh/guide/how-to/tls.html" class="prev">
        TLS/SSL/HTTPS
      </a></span> <span class="next"><a href="/zh/guide/release-notes/v21.3.html">
        Version 21.3
      </a>
      →
    </span></p></div> </main> <footer class="page-footer"><a href="https://github.com/sanic-org/sanic/blob/master/LICENSE">
    MIT Licensed
  </a> <br>
  Copyright © 2018-present Sanic Community Organization<br> <p>~ Made with ❤️ and ☕️ ~</p></footer></div></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.00a045bd.js" defer></script><script src="/assets/js/3.a087f406.js" defer></script><script src="/assets/js/4.96de3935.js" defer></script><script src="/assets/js/127.558c85ea.js" defer></script>
  </body>
</html>
